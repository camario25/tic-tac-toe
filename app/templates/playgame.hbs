<main class="game-container">
  <h1 class="game__title">Tic Tac Toe</h1>

{{#if (eq this.userView "playerNames")}}
  <form class="form">
    <h2 class='form__title'>Enter Player Names</h2>
    <h5 class='form__subtitle'>*player who goes first is selected at random</h5>
    <div class='form__group'>
      <label for="playerA">
        Player Name
      </label>
      <div class="form__control-wrapper">
        <Input class="form__control" id="playerA" placeholder="Name" @input={{this.inputPlayerA}} autocomplete="off"/>
      </div>
    </div>
    <div class="form__group">
      <label for="playerB">
        Player Name
      </label>
      <div class="form__control-wrapper">
        <Input class="form__control" id="playerB" placeholder="Name" @input={{this.inputPlayerB}} autocomplete="off"/>
      </div>
    </div>
    <button class="form__button-submit" type="button" {{on "click" (fn this.newGame)}}>Play</button>
 {{!-- <Button @type="submit" @onClick{{fn this.newGame }}></Button> --}}
  </form>

{{else if (eq this.userView "playingGame")}}
  <section class="players-container">
    <div class="players__section">
    {{#each @model.players as |player|}}
    <div class="players__section">
      
      {{!-- <h2 class="players__title">Player {{player.number}}</h2> --}}
      <h2 class="players__title">{{player.name}} is "{{player.marker}}"</h2>
    </div>
    {{/each}}
    </div>
    <div class="players__section">
      <h2 class="players__title">
        {{this.currentName}}'s Turn
      </h2>
    </div>
  </section>

    <section class="grid-container">
      {{#each @model.grid as |row|}}
        {{#each row as |square|}}
            {{#if this.winner}}
            <div class="grid__item">{{square.marker}}</div>
            {{else}}
              {{#if (eq square.marker "")}}
                <button type="button" class="grid__item" {{on "click" (fn this.makeMove square.position)}}>{{square.marker}}</button> 
              {{else}}
                <div class="grid__item">{{square.marker}}</div>
              {{/if}}
          {{/if}}
        {{/each}}
      {{/each}}
  </section>

{{else if (eq this.userView "endGame")}}
  <section class="game__section">
    <div class="end-modal">
      <h2 class="end-modal__title">
        {{#if this.winner}}
          {{this.winner}} You Won!
        {{else if this.draw}}
          Result is a Draw
        {{/if}}
      </h2>
      <div class="end-modal__section">
        <h3 class="end-modal-section__title">
          Play Again
        </h3>
        <div class="end-modal__buttons-wrapper">
          <Button @class="end-modal__button end-modal__button--same-players" @type="button" @function={{this.newGame}}>Same Players</Button>
          <p class="end-modal__text">OR</p>
          <Button @class="end-modal__button end-modal__button--new-players" @type="button" @function={{this.newPlayers}}>New Players</Button>
        </div>
      </div>
    </div>
  </section>

    <section class="grid-container">
      {{#each @model.grid as |row|}}
        {{#each row as |square|}}
            {{#if this.winner}}
            <div class="grid__item">{{square.marker}}</div>
            {{else}}
              {{#if (eq square.marker "")}}
                <button type="button" class="grid__item" {{on "click" (fn this.makeMove square.position)}}>{{square.marker}}</button> 
              {{else}}
                <div class="grid__item">{{square.marker}}</div>
              {{/if}}
          {{/if}}
        {{/each}}
      {{/each}}
  </section>
{{/if}}

</main>